@import 'settings';
@import 'foundation';

// Global styles
@include foundation-global-styles;
@include foundation-forms;
@include foundation-typography;

// Grids (choose one)
@include foundation-xy-grid-classes;

// Generic components
// @include foundation-button;
// @include foundation-button-group;
// @include foundation-close-button;
// @include foundation-label;
// @include foundation-progress-bar;
// @include foundation-slider;
// @include foundation-switch;
// @include foundation-table;
// Basic components
// @include foundation-badge;
// @include foundation-breadcrumbs;
// @include foundation-callout;
// @include foundation-card;
// @include foundation-dropdown;
// @include foundation-pagination;
// @include foundation-tooltip;

// Containers
// @include foundation-accordion;
// @include foundation-media-object;
// @include foundation-orbit;
// @include foundation-responsive-embed;
// @include foundation-tabs;
// @include foundation-thumbnail;
// Menu-based containers
@include foundation-menu;
// @include foundation-menu-icon;
// @include foundation-accordion-menu;
// @include foundation-drilldown-menu;
// @include foundation-dropdown-menu;

// Layout components
// @include foundation-off-canvas;
// @include foundation-reveal;
// @include foundation-sticky;
// @include foundation-title-bar;
@include foundation-top-bar;

// Helpers
// @include foundation-float-classes;
// @include foundation-flex-classes;
// @include foundation-visibility-classes;
// @include foundation-prototype-classes;

@import 'typography';

body {
  @include xy-grid-frame(
    $vertical: true,
  );
  @include xy-grid(
    $direction: vertical,
    $wrap: false,
  );

  .topbar {
    @include top-bar-container;

    & > .menu {
      @include menu-base;
      @include menu-direction(
        $dir: horizontal,
      )
    }

    a {
      color: inherit;

      &:hover {
        color: $primary-color;
      }
    }
  }

  .main {
    @include xy-grid(
      $direction: horizontal,
      $wrap: true,
    );
    @include xy-cell(
      $size: 12,
      $gutters: 0,
    );
    flex: 1 100%;

    .container {
      @include xy-cell(12);
      @include xy-cell-block(
        $vertical: true,
      );
    }
  }

  .bottombar {
    @include xy-cell(
      $size: 12,
      $gutters: 0,
    );
    min-height: rem-calc(48);
  }
}

.topbar {
  min-height: rem-calc(48);

  .branding {
    img {
      max-height: rem-calc(48);
      width: auto;
    }
  }
}

.home {
  .main .page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    @include breakpoint(medium) {
      min-height: 50vh;
    }
  }

  #archive {
    @include xy-grid();
    @include xy-grid-container(
      $padding: 0,
    );
    margin: auto;
    position: relative;

    .hentry,
    .grid-sizer {
      overflow: hidden;
      position: relative;
      @include xy-cell(
        $size: 12,
        $gutters: 0,
      );
      padding-bottom: 50%;

      @include breakpoint(medium){
        @include xy-cell(
          $size: 6,
          $gutters: 0,
        );
        padding-bottom: 35%;
      }

      *,
      &::before {
        transition: all 7s ease-in-out;
      }

      &::before {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -1;
        opacity: 0;
      }

      &:hover {
        .image {
          transform: scale(1.2);
        }

        &::before {
          opacity: .5;
        }
      }

      &.is-sticky {
        @include xy-cell(
          $size: 12,
          $gutters: 0,
        );
      }

      &.section-title {
        position: absolute;
        top: -.9em;
        left: 0;
      }

      .image {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -2;
        background-size: cover;
        background-position: center;

        img {
          display: none !important;
        }
      }

      .header {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }

      .title,
      .excerpt {
        opacity: 0;
      }
    }
  }
}
